{"version":3,"sources":["webpack:///G:/uni file/医云助手/main.js","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue?f940","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue?e5b7","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue?c837","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue?8aae","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue?1a4f","webpack:///G:/uni file/医云助手/pages/Plans/AddPlan.vue?4c80"],"names":["createPage","Page","plan","Equipments","UseEquipments","DateList","Today","DayList","FrequencyList","TimesList","TimeIndex","innerAudioContext","uni","createInnerAudioContext","volume","data","ChangePlan","PlayRecord","EquipmentInfo","UseTimes","Picker","type","InitialText","CurrentText","UseMedicines","value","Items1","Items2","Items3","EquipmentIndex","DateIndex","FrequencyIndex","onLoad","e","SetUseEquipments","SetDateList","SetFrequency","SetTimes","PlanIndex","SetChangeData","methods","PickerEquipment","PickerDate","PickerFrequency","PickerTimes","usetime","i","Hour","Minute","find","index","length","LastTime","RecordUrl","MedicalIndex","Medicines","name","amount","remark","RemoveTime","splice","PlayVoice","src","console","log","stop","play","onEnded","StopVoice","Sure","requestSubscribeMessage","tmplIds","success","res","faie","err","EquipmentID","ID","date","JSON","stringify","year","month","day","Frequency","RecordUrls","forEach","item","indexOf","push","url","a","b","showtoast","showModal","title","content","confirm","showLoading","request","text","phone","global","UserLoginInfo","PlanID","method","statusCode","GetPlans","showToast","fail","time","upRecord","uploadFile","filePath","Remove","complete","hideLoading","FinishPic","detail","__args__","SetUseTimes","sort","Close","EquipmentsInfo","concat","map","Date","getFullYear","getMonth","getDate","YeatList","MonthList","MaxDay","UserPlans","Equipment","parse","image","duration","components"],"mappings":"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","file":"pages/Plans/AddPlan.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/Plans/AddPlan.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./AddPlan.vue?vue&type=template&id=3ede6e48&scoped=true&\"\nimport script from \"./AddPlan.vue?vue&type=script&lang=js&\"\nexport * from \"./AddPlan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddPlan.vue?vue&type=style&index=0&id=3ede6e48&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ede6e48\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3ede6e48', component.options)\n    } else {\n      api.reload('3ede6e48', component.options)\n    }\n    module.hot.accept(\"./AddPlan.vue?vue&type=template&id=3ede6e48&scoped=true&\", function () {\n      api.rerender('3ede6e48', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uni file/医云助手/pages/Plans/AddPlan.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./AddPlan.vue?vue&type=template&id=3ede6e48&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./AddPlan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./AddPlan.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Picker from './Picker'//引入选择自定义组件\n\nvar plan = {}\nvar Equipments,UseEquipments=[\"不使用设备\"]\nvar DateList=[],Today,DayList=[]\nvar FrequencyList=[]\nvar TimesList=[],TimeIndex\n\nvar innerAudioContext = uni.createInnerAudioContext()\ninnerAudioContext.volume = 1\nexport default{\n\tdata(){\t\t\t\n\t\treturn{\n\t\t\tChangePlan:false,\n\t\t\tPlayRecord : -1,\n\t\t\t\n\t\t\tEquipmentInfo:{},\n\t\t\tToday:'',\n\t\t\tUseTimes:[],\n\t\t\t/* 选择器参数 */\n\t\t\tPicker:false,\n\t\t\ttype:'',\n\t\t\tInitialText:'',\n\t\t\tCurrentText:[UseEquipments[0],'今天','每天执行'],\n\t\t\t\n\t\t\tUseMedicines:{},\n\t\t\tvalue:[],//下标的值\n\t\t\tItems1:[],//发送给选择题的数组内容\n\t\t\tItems2:[],\n\t\t\tItems3:[],\n\t\t\t\n\t\t\tEquipmentIndex:[0],//设备的下标\n\t\t\tDateIndex:[0,0,0],//日期下标\n\t\t\tFrequencyIndex:[0]//频率下标\n\t\t\t/* 选择器参数 */\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tthis.SetUseEquipments()\n\t\tthis.SetDateList()\n\t\tthis.SetFrequency()\n\t\tthis.SetTimes()\n\t\t/* 如果是修改界面来,初始化数据 */\n\t\tif(e.PlanIndex != \"false\")\n\t\t\tthis.SetChangeData(e.PlanIndex)\n\t},\n\tmethods:{\n\t\tPickerEquipment(){//选择设备\n\t\t\tthis.type='选择设备'\n\t\t\tthis.Items1=UseEquipments\n\t\t\tthis.Items2=[]\n\t\t\tthis.Items3=[]\n\t\t\tthis.InitialText=this.CurrentText[0]\n\t\t\tthis.value=this.EquipmentIndex\n\t\t\tthis.Picker=true\n\t\t},\n\t\tPickerDate(){//选择日期\n\t\t\tthis.type=\"选择日期\"\n\t\t\tthis.Items1=DateList[0]\n\t\t\tthis.Items2=DateList[1]\n\t\t\tthis.Items3=DayList\n\t\t\tthis.InitialText=this.CurrentText[1]\n\t\t\tthis.value=this.DateIndex\n\t\t\tthis.Picker=true\n\t\t},\n\t\tPickerFrequency(){//选择频率\n\t\t\tthis.type=\"选择频率\"\n\t\t\tthis.Items1=FrequencyList\n\t\t\tthis.Items2=[]\n\t\t\tthis.Items3=[]\n\t\t\tthis.InitialText=this.CurrentText[2]\n\t\t\tthis.value=this.FrequencyIndex\n\t\t\tthis.Picker=true\n\t\t},\n\t\tPickerTimes(type,usetime={},i){//选择用药时间\n\t\t\tthis.Items1=TimesList[0]\n\t\t\tthis.Items2=TimesList[1]\n\t\t\tthis.Items3=[]\n\t\t\t/* 如果是修改的,把已经选中的时间传过去 */\n\t\t\tif(type === \"Change\"){\n\t\t\t\tTimeIndex = i\n\t\t\t\t/* 计算时间下标 */\n\t\t\t\tlet Hour,Minute\n\t\t\t\tTimesList[0].find((e,index)=>{\n\t\t\t\t\tHour = index\n\t\t\t\t\treturn e === usetime.Hour\n\t\t\t\t})\n\t\t\t\tTimesList[1].find((e,index)=>{\n\t\t\t\t\tMinute = index\n\t\t\t\t\treturn e === usetime.Minute\n\t\t\t\t})\n\t\t\t\t/* 计算时间下标 */\t\t\n\t\t\t\tthis.type = \"修改时间\"\n\t\t\t\tthis.InitialText = usetime.Hour + \":\" + usetime.Minute\n\t\t\t\tthis.UseMedicines = usetime\n\t\t\t\tthis.value = [Hour,Minute]\n\t\t\t}\n\t\t\telse{//新增时间\n\t\t\t\tlet UseMedicines = {}\n\t\t\t\tlet InitialText = \"07:30\"\n\t\t\t\tlet Hour = 7\n\t\t\t\tif(this.UseTimes.length > 0){\n\t\t\t\t\tconst LastTime = this.UseTimes[this.UseTimes.length-1]\n\t\t\t\t\tTimesList[0].find((e,index)=>{\n\t\t\t\t\t\tHour = index\n\t\t\t\t\t\treturn e === LastTime.Hour\n\t\t\t\t\t})\n\t\t\t\t\tUseMedicines = {\n\t\t\t\t\t\tHour : Hour,\n\t\t\t\t\t\tRecordUrl : LastTime.RecordUrl,\n\t\t\t\t\t\tMedicalIndex : LastTime.MedicalIndex,\n\t\t\t\t\t\tMedicines : LastTime.Medicines\n\t\t\t\t\t}\n\t\t\t\t\tInitialText = Hour + \":30\"\n\t\t\t\t}\t\t\n\t\t\t\telse\n\t\t\t\t\tUseMedicines = {\n\t\t\t\t\t\tRecordUrl : '',\n\t\t\t\t\t\tMedicalIndex : [],\n\t\t\t\t\t\tMedicines : [{\n\t\t\t\t\t\t\tname : '',\n\t\t\t\t\t\t\tamount : '',\n\t\t\t\t\t\t\tremark : '',\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\tthis.type = \"添加时间\"\n\t\t\t\tthis.InitialText = InitialText\n\t\t\t\tthis.UseMedicines = UseMedicines\n\t\t\t\tthis.value = [Hour,30]\n\t\t\t}\n\t\t\tthis.Picker = true\n\t\t},\n\t\tRemoveTime(index){\n\t\t\tthis.UseTimes.splice(index,1)\n\t\t},\n\t\tPlayVoice(src,index){//播放录音\n\t\t\tconsole.log(src)\n\t\t\tthis.PlayRecord = index\n\t\t\tinnerAudioContext.stop()\n\t\t\tinnerAudioContext.src = src\n\t\t\tinnerAudioContext.play()\n\t\t\tinnerAudioContext.onEnded(e => {\n\t\t\t\tthis.PlayRecord = -1\n\t\t\t})\n\t\t},\n\t\tStopVoice(){\n\t\t\tinnerAudioContext.stop()\n\t\t\tthis.PlayRecord = -1\n\t\t},\n\t\t\n\t\t/* 确认添加计划按键 */\n\t\tSure(){\n\t\t\t/* 请求订阅权限 */\n\t\t\tuni.requestSubscribeMessage({\n\t\t\t\ttmplIds: ['NZuGule3MSGcW4xLeYT2ucpCho5J1cgQ9O5tmTFLIYs'],\n\t\t\t\tsuccess(res){console.log(res)},\n\t\t\t\tfaie(err){console.log(err)}\n\t\t\t})\n\t\t\t/* 获取选择的设备 */\n\t\t\tlet EquipmentID\n\t\t\tif(this.EquipmentIndex[0]==0)\n\t\t\t\tEquipmentID=\"不使用设备\"\n\t\t\telse\n\t\t\t\tEquipmentID=Equipments[this.EquipmentIndex-1].ID\n\t\t\t/* 获取日期 */\n\t\t\tlet date=JSON.stringify({\n\t\t\t\tyear:DateList[0][this.DateIndex[0]],\n\t\t\t\tmonth:DateList[1][this.DateIndex[1]],\n\t\t\t\tday:DateList[2][this.DateIndex[2]]\n\t\t\t}) \n\t\t\t/* 获取使用频率 */\n\t\t\tlet Frequency = FrequencyList[this.FrequencyIndex[0]]\n\t\t\t/* 获取录音列表 */\n\t\t\tlet RecordUrls = []\n\t\t\tthis.UseTimes.forEach((item,index) => {\n\t\t\t\tif(item.RecordUrl.indexOf(\"https\") === -1 && item.RecordUrl != '')//代表url不是以https开头，即如果是临时路径则保存\n\t\t\t\t RecordUrls.push({\n\t\t\t\t\t url : item.RecordUrl,\n\t\t\t\t\t index : index\n\t\t\t\t })\n\t\t\t})\n\t\t\tconsole.log(RecordUrls)\n\t\t\t\n\t\t\t/* 判断有没有重复的时间 */\n\t\t\tfor(let a = 0;a<this.UseTimes.length-1;a++)\n\t\t\t\tfor(let b = a+1;b<this.UseTimes.length;b++)\n\t\t\t\t\tif(this.UseTimes[a].Hour === this.UseTimes[b].Hour && this.UseTimes[a].Minute === this.UseTimes[b].Minute){\n\t\t\t\t\t\tthis.showtoast('有重复时间')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\n\t\t\t/* 判断填写内容是否有误 */\n\t\t\tif(this.UseTimes.length === 0)\n\t\t\t\tthis.showtoast(\"请选择时间\")\t\t\t\t\t\n\t\t\telse{\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: this.ChangePlan ? '确认修改计划?' : '确认添加计划?',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\tuni.showLoading({title:'请求中...'})\n\t\t\t\t\t\t\t/* 发送数据给服务器 */\n\t\t\t\t\t\t\tlet request = (url,text) => {\n\t\t\t\t\t\t\t\tconst data={\n\t\t\t\t\t\t\t\t\tphone:global.UserLoginInfo.phone,\n\t\t\t\t\t\t\t\t\tEquipmentID:EquipmentID,\n\t\t\t\t\t\t\t\t\tdate:date,\n\t\t\t\t\t\t\t\t\tFrequency:Frequency,\n\t\t\t\t\t\t\t\t\tUseTimes:JSON.stringify(this.UseTimes),\n\t\t\t\t\t\t\t\t\tPlanID : plan.PlanID\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: 'https://jinlongyuchitang.cn:4000' + url,\n\t\t\t\t\t\t\t\t\t// url: 'http://localhost:4000' + url,\n\t\t\t\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\t\t\t\tsuccess:res => {\n\t\t\t\t\t\t\t\t\t\tif(res.statusCode === 200)\n\t\t\t\t\t\t\t\t\t\t\tglobal.GetPlans(global.UserLoginInfo.phone,true,text)\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({title:'网络错误'})\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: (err) => {console.log(err)}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}//request函数\n\t\t\t\t\t\t\t/* 存储录音 */\n\t\t\t\t\t\t\tlet time = 0\n\t\t\t\t\t\t\tlet upRecord = (item) => {\n\t\t\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\t\t\turl: 'https://jinlongyuchitang.cn:4000/upRecord',\n\t\t\t\t\t\t\t\t\t// url: 'http://localhost:4000/upRecord',\n\t\t\t\t\t\t\t\t\tfilePath: item.url,\n\t\t\t\t\t\t\t\t\tname: 'audio',\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tif(res.statusCode === 200){\n\t\t\t\t\t\t\t\t\t\t\tthis.UseTimes[item.index].RecordUrl = res.data\n\t\t\t\t\t\t\t\t\t\t\ttime++\n\t\t\t\t\t\t\t\t\t\t\tif(time === RecordUrls.length){\n\t\t\t\t\t\t\t\t\t\t\t\tif(this.ChangePlan)\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest('/ChangePlan','修改计划成功')\n\t\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest('/AddPlan','添加计划成功')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({title:'网络错误'})\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: (err) => {console.log(err)},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}//upRecord函数\n\t\t\t\t\t\t\t/* 判断是否需要上传录音 */\n\t\t\t\t\t\t\tif(RecordUrls.length === 0){\n\t\t\t\t\t\t\t\tif(this.ChangePlan)\n\t\t\t\t\t\t\t\t\trequest('/ChangePlan','修改计划成功')\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\trequest('/AddPlan','添加计划成功')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tRecordUrls.forEach(item => {\n\t\t\t\t\t\t\t\t\t\tupRecord(item)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}})//model结束\t\n\t\t\t}//request结束\n\t\t},\n\t\t/* 删除计划 */\n\t\tRemove(){\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确认删除计划?',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\tuni.showLoading({title:'删除中...'})\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: 'https://jinlongyuchitang.cn:4000/RemovePlan',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata:{PlanID:plan.PlanID},\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tglobal.GetPlans(global.UserLoginInfo.phone,true,'删除计划成功')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {console.log(err)},\n\t\t\t\t\t\t\tcomplete() {uni.hideLoading()}})}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\t\t\n\t\t/* 完成Picker选择,重置界面数据*/\n\t\tFinishPic(e){\n\t\t\tlet data=e.detail.__args__[0]\n\t\t\tlet SetUseTimes=(type)=>{\n\t\t\t\tlet Hour = TimesList[0][data.value[0]]\n\t\t\t\tlet Minute = TimesList[1][data.value[1]]\n\t\t\t\tlet UseMedicines = {//初始化对象\n\t\t\t\t\tHour : Hour,\n\t\t\t\t\tMinute : Minute,\n\t\t\t\t\tMedicines : data.Medicines,\n\t\t\t\t\tMedicalIndex : data.MedicalIndex,\n\t\t\t\t\tRecordUrl : data.RecordUrl,\n\t\t\t\t}\n\t\t\t\tif(type === '添加时间')\n\t\t\t\t\tthis.UseTimes.push(UseMedicines)\n\t\t\t\telse\n\t\t\t\t\tthis.UseTimes[TimeIndex] = UseMedicines\n\t\t\t\t/* 对数组排序 */\n\t\t\t\tthis.UseTimes.sort(function(a,b){\n\t\t\t\t\tif(a.Hour === b. Hour)\n\t\t\t\t\t\treturn a.Minute - b.Minute\n\t\t\t\t\treturn a.Hour - b.Hour\n\t\t\t\t})\n\t\t\t}\n\t\t\tswitch(data.type){\n\t\t\t\tcase '选择设备':this.EquipmentIndex=data.value; this.CurrentText[0]=data.CurrentText; this.UseTimes=[]; break;\n\t\t\t\tcase '选择日期':this.DateIndex=data.value;this.CurrentText[1]=data.CurrentText;break\n\t\t\t\tcase '选择频率':this.FrequencyIndex=data.value;this.CurrentText[2]=data.CurrentText;break\n\t\t\t\tcase '添加时间':SetUseTimes('添加时间');break\n\t\t\t\tcase '修改时间':SetUseTimes('修改时间');break\n\t\t\t}\n\t\t\tthis.Picker=false\n\t\t},\n\t\t/* 完成弹窗内容,关闭弹窗并返回参数 */\n\t\tClose(){\n\t\t\tthis.Picker=false\n\t\t},\n\t\t\n\t\t/* 初始化数据方法: */\n\t\tSetUseEquipments(){//生成设备信息数组\n\t\t\t/* 如果用户有设备，把设备名组成数组给UseEquipments */\n\t\t\tEquipments = global.EquipmentsInfo\n\t\t\tthis.EquipmentInfo = Equipments\n\n\t\t\tUseEquipments=[\"不使用设备\"]\n\t\t\tif(Equipments.length)\n\t\t\t\tUseEquipments = UseEquipments.concat(Equipments.map(item=>{\n\t\t\t\t\treturn item.name\n\t\t\t\t}))\n\t\t},\n\t\tSetDateList(){//生成日期数组\n\t\t\tconst date = new Date()\n\t\t\tlet year = date.getFullYear()\n\t\t\tlet month = date.getMonth() + 1\n\t\t\tlet day = date.getDate()\n\t\t\t/* 根据今天日期传给数组对应下标 */\n\t\t\tToday={year:year,month:month,day:day},\n\t\t\tthis.Today=year+'年'+month+'月'+day+'日'\n\t\t\tthis.DateIndex=[0,Today.month-1,Today.day-1]\n\t\t\t/* 生成日期数组 */\n\t\t\tlet YeatList=[],MonthList=[]\n\t\t\tfor(let i=year;i<year+10;i++)\n\t\t\t\tYeatList.push(i)\n\t\t\tfor(let i=1;i<13;i++)\n\t\t\t\tMonthList.push(i)\n\t\t\tfor(let i=1;i<32;i++)\n\t\t\t\tDayList.push(i)\n\n\t\t\tDateList.push(YeatList)\n\t\t\tDateList.push(MonthList)\n\t\t\tDateList.push(DayList)\n\t\t\t\n\t\t\t/* 判断该月有多少天 */\n\t\t\tDayList=[]\n\t\t\tlet MaxDay=31\n\t\t\tif(month==4||month==6||month==9||month==11)\n\t\t\t\tMaxDay=30\n\t\t\telse if(month==2 && year%4==0 && year%100!=0 || year%400==0)\n\t\t\t\tMaxDay=28\n\t\t\telse if(month==2)\n\t\t\t\tMaxDay=29\n\t\t\tfor(let i=1;i<MaxDay+1;i++)\n\t\t\t\tDayList.push(i)\t\n\t\t},//SetDate结束\n\t\tSetFrequency(){//生成频率信息数组\n\t\t\tFrequencyList = []\n\t\t\tfor(let i=1;i<31;i++)\n\t\t\t\tFrequencyList.push(i)\n\t\t},\n\t\tSetTimes(){//生成时间数组\n\t\t\tlet Hour=[],Minute=[]\n\t\t\tfor(let i=0;i<24;i++)\n\t\t\t\tif(i<10)\n\t\t\t\t\tHour.push(\"0\"+i)\n\t\t\t\telse\n\t\t\t\t\tHour.push(i)\n\t\t\tfor(let i=0;i<60;i++)\n\t\t\t\tif(i<10)\n\t\t\t\t\tMinute.push(\"0\"+i)\n\t\t\t\telse\n\t\t\t\t\tMinute.push(i)\n\t\t\tTimesList.push(Hour)\n\t\t\tTimesList.push(Minute)\n\t\t},\n\t\t\n\t\t/* 修改界面的初始数据 */\n\t\tSetChangeData(PlanIndex){\n\t\t\tplan = global.UserPlans[PlanIndex]\n\t\t\t/* 修改设备情况 */\n\t\t\tif(plan.EquipmentID != \"不使用设备\"){\n\t\t\t\tlet Equipment = Equipments.find((item,index)=>{\n\t\t\t\t\tif(item.ID === plan.EquipmentID){\n\t\t\t\t\t\tthis.EquipmentIndex[0] = index+1\n\t\t\t\t\t\tthis.CurrentText[0] = item.name\n\t\t\t\t\t}\n\t\t\t\t\treturn item.ID === plan.EquipmentID\n\t\t\t\t})\n\t\t\t}\n\t\t\t/* 修改日期 */\n\t\t\tlet date=JSON.parse(plan.date)\n\t\t\tthis.CurrentText[1]=date.year+'年'+date.month+'月'+date.day+'日'\n\t\t\tthis.DateIndex=[new Date().getFullYear()-date.year,date.month-1,date.day-1]\n\t\t\t/* 修改频率 */\n\t\t\tthis.FrequencyIndex[0]=plan.Frequency-1\n\t\t\tif(plan.Frequency>1)\n\t\t\t\tthis.CurrentText[2]='每'+plan.Frequency+'天执行'\n\t\t\t/* 修改时间 */\n\t\t\tthis.UseTimes=JSON.parse(plan.UseTimes)\n\t\t\tthis.ChangePlan=true\n\t\t},\n\t\t/* 错误提醒 */\n\t\tshowtoast(text){\n\t\t\tuni.showToast({\n\t\t\t\ttitle:text,\n\t\t\t\timage:\"../../static/error.png\",\n\t\t\t\tduration:1000})\n\t\t}\n\t},//methods结束\n\n\tcomponents:{\n\t\tPicker\n\t}\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./AddPlan.vue?vue&type=style&index=0&id=3ede6e48&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./AddPlan.vue?vue&type=style&index=0&id=3ede6e48&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}